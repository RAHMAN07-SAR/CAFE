<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Menu — Cafe Bengaluru. Explore our coffees, pastries, mains and desserts. Order online or reserve a table." />
  <title>Menu — Cafe Bengaluru | Discover our flavors</title>
  <!-- Tailwind CDN (Play) -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Tailwind custom config
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: '#e89a1d',
            darkbg: '#0f1a1a',
            accent: '#f6a01a'
          },
          fontFamily: {
            serif: ['Merriweather', 'serif'],
            sans: ['Inter', 'sans-serif']
          }
        }
      }
    }
  </script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@300;700;900&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
  <style>
    /* Helpers and small custom utilities */
    .max-w-6x1 { max-width: 72rem; }
    .reveal { opacity: 0; transform: translateY(12px); transition: all 600ms cubic-bezier(.2,.8,.2,1); }
    .reveal.visible { opacity: 1; transform: translateY(0); }
    .dish-card { transition: transform .25s ease, box-shadow .25s ease; }
    .dish-card:hover { transform: translateY(-6px); box-shadow: 0 12px 28px rgba(0,0,0,0.12); }
    .lightbox { position: fixed; inset: 0; display: none; align-items: center; justify-content: center; background: rgba(0,0,0,0.85); z-index: 60; }
    .lightbox img { max-width: 92%; max-height: 86%; border-radius: 8px; }
    .glass-card { backdrop-filter: blur(6px); background-color: rgba(255,255,255,0.03); }
    .hidden-by-js { display: none; }
    /* decorative underline for headings */
    .grid-ribbon::after { content: ''; position: absolute; left: 0; bottom: -10px; width: 48px; height: 6px; background: #e89a1d; border-radius: 6px; }
    /* small accessible focus styles */
    :focus { outline: 3px solid rgba(232,154,29,0.18); outline-offset: 2px; }
  </style>
</head>
<body class="antialiased text-gray-900 bg-white">
  <a href="#main" class="sr-only focus:not-sr-only p-2">Skip to content</a>

  <!-- Header -->
  <header class="sticky top-4 z-50">
    <div class="bg-white/95 backdrop-blur rounded-xl shadow max-w-6x1 mx-auto px-6 py-4 flex items-center justify-between">
      <a href="/" class="flex items-center gap-3" aria-label="Cafe home">
        <img src="https://cdn.dribbble.com/users/2898742/screenshots/5660488/logo.jpg" alt="Cafe logo" class="h-12 w-12 rounded" />
        <div>
          <h1 class="text-xl font-serif">Cafe</h1>
          <p class="text-xs text-gray-500">Bengaluru</p>
        </div>
      </a>
      <nav class="hidden lg:flex items-center gap-8" aria-label="Primary navigation">
        <a href="index.html" class="hover:text-brand">Home</a>
        <a href="menu.html" class="text-brand font-semibold">Menu</a>
        <a href="about.html" class="hover:text-brand">About</a>
        <a href="gallery.html" class="hover:text-brand">Gallery</a>
        <a href="blog.html" class="hover:text-brand">Blog</a>
        <a href="contact.html" class="hover:text-brand">Contact</a>
      </nav>
      <div class="flex items-center gap-4">
        <a href="#reservation" class="hidden lg:inline-block bg-brand text-white px-5 py-2 rounded-lg shadow">Reservation</a>
        <button id="hamburger" class="lg:hidden p-2 rounded bg-white shadow" aria-label="Open menu" aria-expanded="false" aria-controls="mobileMenu">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
        </button>
      </div>
    </div>

    <!-- Mobile menu -->
    <div id="mobileMenu" class="fixed inset-0 bg-black/40 hidden z-40" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="absolute left-0 top-0 w-80 h-full bg-white p-6 shadow-lg" role="menu">
        <div class="flex items-center justify-between">
          <div class="flex items-center gap-3">
            <img src="https://cdn.dribbble.com/users/2898742/screenshots/5660488/logo.jpg" alt="logo" class="h-10 w-10 rounded" />
            <span class="font-semibold">Cafe</span>
          </div>
          <button id="closeMobile" class="p-2 rounded hover:bg-gray-100" aria-label="Close menu">✕</button>
        </div>
        <nav class="mt-6 flex flex-col gap-3" aria-label="Mobile Navigation">
          <a href="index.html" class="py-2 px-3 rounded hover:bg-gray-50">Home</a>
          <a href="menu.html" class="py-2 px-3 rounded bg-brand text-white">Menu</a>
          <a href="about.html" class="py-2 px-3 rounded hover:bg-gray-50">About</a>
          <a href="gallery.html" class="py-2 px-3 rounded hover:bg-gray-50">Gallery</a>
          <a href="blog.html" class="py-2 px-3 rounded hover:bg-gray-50">Blog</a>
          <a href="contact.html" class="py-2 px-3 rounded hover:bg-gray-50">Contact</a>
        </nav>
      </div>
    </div>
  </header>

  <main id="main">
    <!-- Hero -->
    <section class="relative bg-cover bg-center" style="background-image: url('https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=1600&q=60&auto=format&fit=crop');">
      <div class="bg-black/40 py-28">
        <div class="max-w-6x1 mx-auto px-6 text-white">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
            <div>
              <h2 class="text-5xl md:text-6xl font-serif leading-tight">Explore our menu</h2>
              <p class="mt-4 text-lg text-white/80 max-w-2xl">Seasonal offerings, curated coffees, and freshly baked pastries. Browse by category, add to cart, or reserve a table.</p>
              <div class="mt-6 flex items-center gap-4">
                <a href="#categories" class="bg-brand px-6 py-3 rounded-lg text-white font-semibold shadow">View Menu</a>
                <a href="#specials" class="text-white/80 hover:underline">Today's Specials</a>
              </div>
            </div>
            <div class="hidden lg:block">
              <div class="bg-white/5 p-6 rounded-xl glass-card shadow-lg">
                <img src="https://images.unsplash.com/photo-1498654896293-37aacf113fd9?w=900&q=60&auto=format&fit=crop" alt="Delicious food" class="rounded-lg shadow" />
                <p class="mt-4 text-sm text-white/80">From espresso shots to full meals — we craft each plate with care.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Categories & tabs -->
    <section id="categories" class="py-12 bg-white">
      <div class="max-w-6x1 mx-auto px-6">
        <div class="flex items-center justify-between">
          <div>
            <h3 class="text-sm text-brand font-semibold">MENU</h3>
            <h2 class="text-3xl font-serif mt-2">Choose a category</h2>
          </div>
          <div class="flex gap-3 items-center">
            <label class="text-sm text-gray-600">Sort by:</label>
            <select id="sortSelect" class="border rounded px-3 py-2">
              <option value="popularity">Popularity</option>
              <option value="price-asc">Price: Low to High</option>
              <option value="price-desc">Price: High to Low</option>
            </select>
          </div>
        </div>

        <div class="mt-6 flex gap-3 flex-wrap" role="tablist" aria-label="Menu categories">
          <button class="category-tab px-4 py-2 rounded bg-brand text-white" data-category="all">All</button>
          <button class="category-tab px-4 py-2 rounded border" data-category="coffee">Coffee</button>
          <button class="category-tab px-4 py-2 rounded border" data-category="breakfast">Breakfast</button>
          <button class="category-tab px-4 py-2 rounded border" data-category="mains">Mains</button>
          <button class="category-tab px-4 py-2 rounded border" data-category="dessert">Dessert</button>
          <button class="category-tab px-4 py-2 rounded border" data-category="beverage">Beverage</button>
        </div>

        <!-- Menu grid -->
        <div class="mt-8 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6" id="menuGrid">
          <!-- Repeating menu items (kept intentionally verbose for a full menu prototype) -->

          <!-- Coffee items -->
          <article class="dish-card border rounded-lg p-4 bg-white reveal" data-category="coffee" data-price="120" data-popularity="8">
            <div class="flex gap-4">
              <img src="https://images.unsplash.com/photo-1498804103079-a6351b050096?w=400&q=60&auto=format&fit=crop" alt="Cappuccino" class="h-28 w-28 object-cover rounded cursor-pointer" />
              <div class="flex-1">
                <h4 class="font-semibold">Cappuccino</h4>
                <p class="text-sm text-gray-600 mt-1">Espresso with steamed milk and a light foam.</p>
                <div class="mt-3 flex items-center justify-between">
                  <div class="text-brand font-semibold">₹120</div>
                  <div class="flex items-center gap-2">
                    <button class="addBtn bg-brand text-white px-3 py-1 rounded text-sm" data-id="cap001">Add</button>
                    <button class="viewImg p-2 rounded border" data-img="https://images.unsplash.com/photo-1498804103079-a6351b050096?w=1000&q=60&auto=format&fit=crop"><i class="fa-solid fa-magnifying-glass"></i></button>
                  </div>
                </div>
              </div>
            </div>
          </article>

          <article class="dish-card border rounded-lg p-4 bg-white reveal" data-category="coffee" data-price="140" data-popularity="9">
            <div class="flex gap-4">
              <img src="https://images.unsplash.com/photo-1511920170033-f8396924c348?w=400&q=60&auto=format&fit=crop" alt="Flat White" class="h-28 w-28 object-cover rounded cursor-pointer" />
              <div class="flex-1">
                <h4 class="font-semibold">Flat White</h4>
                <p class="text-sm text-gray-600 mt-1">Velvety microfoam over a double espresso.</p>
                <div class="mt-3 flex items-center justify-between">
                  <div class="text-brand font-semibold">₹140</div>
                  <div class="flex items-center gap-2">
                    <button class="addBtn bg-brand text-white px-3 py-1 rounded text-sm" data-id="fw002">Add</button>
                    <button class="viewImg p-2 rounded border" data-img="https://images.unsplash.com/photo-1511920170033-f8396924c348?w=1000&q=60&auto=format&fit=crop"><i class="fa-solid fa-magnifying-glass"></i></button>
                  </div>
                </div>
              </div>
            </div>
          </article>

          <article class="dish-card border rounded-lg p-4 bg-white reveal" data-category="coffee" data-price="160" data-popularity="10">
            <div class="flex gap-4">
              <img src="https://images.unsplash.com/photo-1511920170033-f8396924c348?w=400&q=60&auto=format&fit=crop" alt="Single Origin Espresso" class="h-28 w-28 object-cover rounded cursor-pointer" />
              <div class="flex-1">
                <h4 class="font-semibold">Single Origin Espresso</h4>
                <p class="text-sm text-gray-600 mt-1">Rotating single-origin espresso with tasting notes.</p>
                <div class="mt-3 flex items-center justify-between">
                  <div class="text-brand font-semibold">₹160</div>
                  <div class="flex items-center gap-2">
                    <button class="addBtn bg-brand text-white px-3 py-1 rounded text-sm" data-id="esp003">Add</button>
                    <button class="viewImg p-2 rounded border" data-img="https://images.unsplash.com/photo-1498804103079-3c9a5a3f1b3a?w=1000&q=60&auto=format&fit=crop"><i class="fa-solid fa-magnifying-glass"></i></button>
                  </div>
                </div>
              </div>
            </div>
          </article>

          <!-- Breakfast -->
          <article class="dish-card border rounded-lg p-4 bg-white reveal" data-category="breakfast" data-price="220" data-popularity="7">
            <div class="flex gap-4">
              <img src="https://images.unsplash.com/photo-1495195134817-aeb325a55b65?w=400&q=60&auto=format&fit=crop" alt="Avocado Toast" class="h-28 w-28 object-cover rounded cursor-pointer" />
              <div class="flex-1">
                <h4 class="font-semibold">Avocado Toast</h4>
                <p class="text-sm text-gray-600 mt-1">Smashed avocado, lemon, chilli flakes on sourdough.</p>
                <div class="mt-3 flex items-center justify-between">
                  <div class="text-brand font-semibold">₹220</div>
                  <div class="flex items-center gap-2">
                    <button class="addBtn bg-brand text-white px-3 py-1 rounded text-sm" data-id="atk004">Add</button>
                    <button class="viewImg p-2 rounded border" data-img="https://images.unsplash.com/photo-1495195134817-aeb325a55b65?w=1000&q=60&auto=format&fit=crop"><i class="fa-solid fa-magnifying-glass"></i></button>
                  </div>
                </div>
              </div>
            </div>
          </article>

          <!-- (Many more items — omitted here for brevity in the editor, but preserved in the prototype) -->

        </div>

        <!-- Load more button in case more items are available -->
        <div class="mt-8 text-center">
          <button id="loadMore" class="px-6 py-2 rounded border">Load more</button>
        </div>
      </div>
    </section>

    <!-- Specials / Offers -->
    <section id="specials" class="py-16 bg-gray-50">
      <div class="max-w-6x1 mx-auto px-6">
        <div class="flex items-center justify-between">
          <div>
            <h3 class="text-sm text-brand font-semibold">SPECIALS</h3>
            <h2 class="text-3xl font-serif mt-2">Today's recommendations & offers</h2>
          </div>
          <div>
            <a href="#reservation" class="text-sm text-brand font-semibold">Reserve a table →</a>
          </div>
        </div>

        <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-6">
          <div class="p-6 rounded-lg bg-white border reveal">
            <img src="https://images.unsplash.com/photo-1498654896293-37aacf113fd9?w=800&q=60&auto=format&fit=crop" alt="Combo" class="rounded mb-4 w-full h-48 object-cover" />
            <h4 class="font-semibold">Brunch Combo</h4>
            <p class="text-sm text-gray-600 mt-2">Choose any main + coffee at a special price.</p>
            <div class="mt-4 flex items-center justify-between">
              <div class="text-xl font-bold">₹499</div>
              <button class="bg-brand text-white px-4 py-2 rounded">Order</button>
            </div>
          </div>

          <div class="p-6 rounded-lg bg-white border reveal">
            <img src="https://images.unsplash.com/photo-1509042239860-f550ce710b93?w=800&q=60&auto=format&fit=crop" alt="Pastry box" class="rounded mb-4 w-full h-48 object-cover" />
            <h4 class="font-semibold">Pastry Box</h4>
            <p class="text-sm text-gray-600 mt-2">6 assorted pastries — preorder and save.</p>
            <div class="mt-4 flex items-center justify-between">
              <div class="text-xl font-bold">₹999</div>
              <button class="bg-brand text-white px-4 py-2 rounded">Preorder</button>
            </div>
          </div>

          <div class="p-6 rounded-lg bg-white border reveal">
            <img src="https://images.unsplash.com/photo-1525351484163-7529414344d8?w=800&q=60&auto=format&fit=crop" alt="Weekly special" class="rounded mb-4 w-full h-48 object-cover" />
            <h4 class="font-semibold">Weekly Chef Special</h4>
            <p class="text-sm text-gray-600 mt-2">A rotating dish curated by our chef every week.</p>
            <div class="mt-4 flex items-center justify-between">
              <div class="text-xl font-bold">₹799</div>
              <button class="bg-brand text-white px-4 py-2 rounded">Try Now</button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA and Cart -->
    <section class="py-16 bg-gradient-to-r from-white to-gray-50">
      <div class="max-w-6x1 mx-auto px-6 text-center">
        <h2 class="text-3xl font-serif">Ready to order or visit?</h2>
        <p class="mt-4 text-gray-600">Reserve a table or place your order for pickup/delivery.</p>
        <div class="mt-6 flex items-center justify-center gap-4">
          <a href="#reservation" class="bg-brand px-6 py-3 rounded text-white font-semibold">Reserve</a>
          <button id="openCart" class="px-6 py-3 rounded border">Open Cart</button>
        </div>
      </div>
    </section>

    <!-- Contact short -->
    <section id="contact" class="py-16 bg-white">
      <div class="max-w-6x1 mx-auto px-6 grid grid-cols-1 lg:grid-cols-2 gap-10">
        <div>
          <h3 class="text-sm text-brand font-semibold">CONTACT</h3>
          <h2 class="text-3xl font-serif mt-2">Questions about our menu?</h2>
          <p class="mt-4 text-gray-600">Call us or send a message. We are here to help.</p>
          <ul class="mt-6 text-sm text-gray-700 space-y-3">
            <li><strong>Phone:</strong> +91 96766 59153</li>
            <li><strong>Email:</strong> info@redescreation.in</li>
          </ul>
        </div>
        <div>
          <form id="menuContactForm" class="p-6 border rounded-lg shadow bg-gray-50">
            <label class="block"><span class="text-sm font-medium">Name</span><input name="name" required class="mt-1 block w-full border rounded px-3 py-2" /></label>
            <label class="block mt-3"><span class="text-sm font-medium">Phone/Email</span><input name="contact" required class="mt-1 block w-full border rounded px-3 py-2" /></label>
            <label class="block mt-3"><span class="text-sm font-medium">Message</span><textarea name="message" rows="4" class="mt-1 block w-full border rounded px-3 py-2"></textarea></label>
            <div class="mt-4 flex items-center gap-4"><button type="submit" class="bg-brand text-white px-5 py-2 rounded">Send</button><p id="menuFormStatus" class="text-sm text-gray-600"></p></div>
          </form>
        </div>
      </div>
    </section>

  </main>

  <!-- ================= FOOTER ================= -->
  <footer class="bg-gray-900 text-gray-300 py-12">
    <div class="max-w-6xl mx-auto px-4 grid grid-cols-1 md:grid-cols-4 gap-8">
      <div>
        <h3 class="text-white font-bold mb-4">Cafe Bengaluru</h3>
        <p>123 MG Road, Bengaluru, India</p>
        <p>+91 96766 59153</p>
        <p>info@redescreation.in</p>
      </div>
      <div>
        <h3 class="text-white font-bold mb-4">Quick Links</h3>
        <ul class="space-y-2">
          <li><a href="index.html" class="hover:text-orange-500">Home</a></li>
          <li><a href="menu.html" class="hover:text-orange-500">Menu</a></li>
          <li><a href="gallery.html" class="hover:text-orange-500">Gallery</a></li>
          <li><a href="about.html" class="hover:text-orange-500">About</a></li>
          <li><a href="contact.html" class="hover:text-orange-500">Contact</a></li>
        </ul>
      </div>
      <div>
        <h3 class="text-white font-bold mb-4">Opening Hours</h3>
        <p>Mon - Fri: 10am - 10pm</p>
        <p>Sat - Sun: 9am - 11pm</p>
      </div>
      <div>
        <h3 class="text-white font-bold mb-4">Follow Us</h3>
        <div class="flex space-x-4 text-xl">
          <a href="#"><i class="fab fa-facebook hover:text-orange-500"></i></a>
          <a href="#"><i class="fab fa-instagram hover:text-orange-500"></i></a>
          <a href="#"><i class="fab fa-twitter hover:text-orange-500"></i></a>
        </div>
      </div>
    </div>
    <div class="mt-8 text-center text-gray-500 text-sm">&copy; 2025 Cafe Bengaluru. All Rights Reserved.</div>
  </footer>

  <!-- Cart drawer (simple) -->
  <div id="cartDrawer" class="fixed right-4 bottom-6 w-80 bg-white border rounded-lg shadow-lg p-4 z-50 hidden" aria-hidden="true" role="dialog" aria-label="Shopping cart">
    <div class="flex items-start justify-between">
      <h4 class="font-semibold">Your cart</h4>
      <button id="closeCart" class="text-gray-500 rounded p-1 hover:bg-gray-100">✕</button>
    </div>
    <div id="cartItems" class="mt-4 space-y-3 text-sm text-gray-700">
      <p class="text-gray-500">No items yet</p>
    </div>
    <div class="mt-4 flex items-center justify-between">
      <div><strong>Total:</strong> <span id="cartTotal">₹0</span></div>
      <button id="checkoutBtn" class="bg-brand text-white px-3 py-1 rounded">Checkout</button>
    </div>
  </div>

  <!-- Lightbox modal -->
  <div id="lightbox" class="lightbox" role="dialog" aria-modal="true" aria-hidden="true">
    <button id="lightboxClose" class="absolute top-6 right-6 text-white text-2xl p-2">✕</button>
    <img id="lightboxImg" src="" alt="Expanded image" />
  </div>

  <!-- Scripts -->
  <script>
    // -- Utilities & DOM refs
    const hamburger = document.getElementById('hamburger');
    const mobileMenu = document.getElementById('mobileMenu');
    const closeMobile = document.getElementById('closeMobile');
    const menuGrid = document.getElementById('menuGrid');
    const loadMoreBtn = document.getElementById('loadMore');
    const sortSelect = document.getElementById('sortSelect');

    // -- Mobile menu toggles with aria handling
    hamburger.addEventListener('click', () => {
      mobileMenu.classList.remove('hidden');
      mobileMenu.setAttribute('aria-hidden', 'false');
      hamburger.setAttribute('aria-expanded', 'true');
      // trap focus quickly (simple)
      closeMobile.focus();
    });
    closeMobile.addEventListener('click', () => {
      mobileMenu.classList.add('hidden');
      mobileMenu.setAttribute('aria-hidden', 'true');
      hamburger.setAttribute('aria-expanded', 'false');
      hamburger.focus();
    });
    mobileMenu.addEventListener('click', (e) => { if (e.target === mobileMenu) { closeMobile.click(); } });

    // -- Reveal on scroll
    const revealEls = document.querySelectorAll('.reveal');
    const revealObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => { if (entry.isIntersecting) entry.target.classList.add('visible'); });
    }, { threshold: 0.12 });
    revealEls.forEach(el => revealObserver.observe(el));

    // -- Category filtering (tabs)
    document.querySelectorAll('.category-tab').forEach(tab => {
      tab.addEventListener('click', () => {
        const cat = tab.getAttribute('data-category');
        document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('bg-brand','text-white'));
        tab.classList.add('bg-brand','text-white');
        document.querySelectorAll('#menuGrid article').forEach(card => {
          if (cat === 'all' || card.dataset.category === cat) card.classList.remove('hidden'); else card.classList.add('hidden');
        });
      });
    });

    // -- Sorting logic
    sortSelect.addEventListener('change', (e) => {
      const val = e.target.value;
      const items = Array.from(document.querySelectorAll('#menuGrid article'));
      items.sort((a,b) => {
        if (val === 'price-asc') return a.dataset.price - b.dataset.price;
        if (val === 'price-desc') return b.dataset.price - a.dataset.price;
        // popularity default
        return b.dataset.popularity - a.dataset.popularity;
      });
      items.forEach(i => menuGrid.appendChild(i));
    });

    // -- Lightbox logic (delegated so clones also work)
    const lb = document.getElementById('lightbox');
    const lbImg = document.getElementById('lightboxImg');
    const lbClose = document.getElementById('lightboxClose');
    function openLightbox(src){ lbImg.src = src; lb.style.display = 'flex'; lb.setAttribute('aria-hidden','false'); lbClose.focus(); }
    function closeLightbox(){ lb.style.display = 'none'; lb.setAttribute('aria-hidden','true'); }
    lbClose.addEventListener('click', closeLightbox);
    lb.addEventListener('click', (e) => { if (e.target === lb) closeLightbox(); });

    // Delegated click events inside menuGrid for images / buttons
    menuGrid.addEventListener('click', (e) => {
      const view = e.target.closest('.viewImg');
      if (view) { e.stopPropagation(); openLightbox(view.getAttribute('data-img')); return; }
      const img = e.target.closest('img');
      if (img && img.closest('article')) { // click on photo
        const src = img.src.replace('w=400','w=1600'); openLightbox(src); return; }
      const add = e.target.closest('.addBtn');
      if (add) {
        e.stopPropagation(); const id = add.getAttribute('data-id'); addToCartByBtn(add, id); return; }
    });

    // Also allow gallery clicks (if any gallery figures exist elsewhere)
    document.addEventListener('click', (e) => {
      const fig = e.target.closest('figure');
      if (fig && fig.querySelector('img')) { openLightbox(fig.querySelector('img').src.replace('w=400','w=1600')); }
    });

    // -- Simple cart (delegated adds)
    const cart = {};
    function updateCartUI(){
      const cartItems = document.getElementById('cartItems');
      cartItems.innerHTML = '';
      let total = 0;
      const keys = Object.keys(cart);
      if (keys.length === 0) {
        cartItems.innerHTML = '<p class="text-gray-500">No items yet</p>';
      } else {
        keys.forEach(id => {
          const item = cart[id];
          const div = document.createElement('div');
          div.className = 'flex items-center justify-between';
          div.innerHTML = `<div class=\"truncate\">${item.name} <small class=\"text-gray-500\">x${item.qty}</small></div><div>₹${item.qty * item.price}</div>`;
          cartItems.appendChild(div);
          total += item.qty * item.price;
        });
      }
      document.getElementById('cartTotal').textContent = '₹' + total;
    }

    function addToCartByBtn(addBtn, id){
      // find the closest article and extract info
      const card = addBtn.closest('article');
      if (!card) return;
      const name = card.querySelector('h4') ? card.querySelector('h4').textContent.trim() : 'Item';
      const price = parseInt(card.dataset.price || '0',10) || 0;
      const key = id || ('item-' + (Object.keys(cart).length + 1));
      if (!cart[key]) cart[key] = { id: key, name, price, qty: 0 };
      cart[key].qty += 1;
      updateCartUI(); showCartDrawer();
    }

    // Expose add button click handler for cloned nodes
    function bindAddButtons(container){
      container.querySelectorAll('.addBtn').forEach(btn => {
        btn.removeEventListener('click', btn._handler);
        const handler = (e) => { e.stopPropagation(); addToCartByBtn(btn, btn.getAttribute('data-id')); };
        btn._handler = handler;
        btn.addEventListener('click', handler);
      });
    }

    // -- Cart drawer open/close
    const cartDrawer = document.getElementById('cartDrawer');
    const openCartBtn = document.getElementById('openCart');
    const checkoutBtn = document.getElementById('checkoutBtn');
    const closeCart = document.getElementById('closeCart');
    function showCartDrawer(){ cartDrawer.classList.remove('hidden'); cartDrawer.setAttribute('aria-hidden','false'); cartDrawer.focus && cartDrawer.focus(); }
    openCartBtn && openCartBtn.addEventListener('click', () => { cartDrawer.classList.toggle('hidden'); cartDrawer.setAttribute('aria-hidden', cartDrawer.classList.contains('hidden') ? 'true' : 'false'); });
    closeCart && closeCart.addEventListener('click', () => { cartDrawer.classList.add('hidden'); cartDrawer.setAttribute('aria-hidden','true'); });
    checkoutBtn && checkoutBtn.addEventListener('click', () => { alert('Checkout — demo only.'); });

    // -- Load more (fake) — clones first few items and re-binds necessary handlers
    loadMoreBtn.addEventListener('click', () => {
      const items = Array.from(document.querySelectorAll('#menuGrid article'));
      const clones = items.slice(0,6).map((node, idx) => {
        const clone = node.cloneNode(true);
        // ensure ids for addBtn are unique-ish
        clone.querySelectorAll('.addBtn').forEach(b => { b.setAttribute('data-id', b.getAttribute('data-id') + '-more' + Date.now() + '-' + idx); });
        return clone;
      });
      clones.forEach(c => menuGrid.appendChild(c));
      // Bind add handlers for clones (we still use delegated listener for menuGrid, but keep this to be safe for direct clicks)
      clones.forEach(c => bindAddButtons(c));
    });

    // -- Menu contact form handler
    const menuContactForm = document.getElementById('menuContactForm');
    if (menuContactForm) menuContactForm.addEventListener('submit', (e) => { e.preventDefault(); document.getElementById('menuFormStatus').textContent = 'Message sent — we\'ll reply soon.'; e.target.reset(); });

    // -- Accessibility: close lightbox and cart with Esc
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape'){
        if (lb.style.display !== 'none') closeLightbox();
        if (!cartDrawer.classList.contains('hidden')) { cartDrawer.classList.add('hidden'); cartDrawer.setAttribute('aria-hidden','true'); }
      }
    });

    // -- Attach initial add button handlers (for non-delegated fallback)
    bindAddButtons(document);

    // -- Analytics hook placeholder
    document.querySelectorAll('.addBtn').forEach(b => b.addEventListener('click', () => { console.debug('Add to cart clicked'); }));

    // -- Additional defensive handlers for image buttons inside menuGrid (delegated above covers most cases)
    document.addEventListener('click', (e) => {
      const v = e.target.closest('.viewImg'); if (v) { openLightbox(v.getAttribute('data-img')); }
    });

    // Small UX: smooth focus when opening mobile menu or cart
    // End of script
  </script>
</body> 
</html> 
